<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aziza Portfolio | AI Edition</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <style>
        :root {
            --primary-color: #ff7eb3;
            --secondary-color: #ff9a9e;
            --ai-gradient: linear-gradient(135deg, #8A2BE2 0%, #ff7eb3 100%);
            --bg-gradient: linear-gradient(135deg, #fff5f8 0%, #eef2ff 100%);
            --card-shadow: 0 10px 30px rgba(255, 126, 179, 0.15);
        }

        body {
            background: var(--bg-gradient);
            margin: 0; padding: 20px 15px;
            display: flex; flex-direction: column; align-items: center;
            font-family: 'Segoe UI', sans-serif; color: #333;
        }

        .wrapper { width: 100%; max-width: 420px; }

        .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 25px; padding: 25px; margin-bottom: 25px;
            box-shadow: var(--card-shadow); border: 1px solid rgba(255, 238, 242, 0.8);
        }

        .h2-title {
            font-size: 16px; color: var(--primary-color);
            margin-bottom: 18px; text-transform: uppercase;
            display: flex; align-items: center; gap: 12px; font-weight: 800;
            border-bottom: 2px solid #fff0f3; padding-bottom: 8px;
        }

        /* AI CARD STYLE */
        .ai-card { background: var(--ai-gradient); color: white; border: none; text-align: center; }
        .ai-card .h2-title { color: white; border-bottom: 2px solid rgba(255,255,255,0.2); }
        
        #webcam-container { display: none; margin-top: 15px; }
        video { width: 100%; border-radius: 15px; border: 3px solid rgba(255,255,255,0.3); background: #000; }

        .ai-btn { 
            display: block; background: white; color: #8A2BE2; text-align: center; 
            padding: 12px; border-radius: 15px; text-decoration: none; font-weight: bold; 
            margin-top: 15px; cursor: pointer; border: none; width: 100%; transition: 0.3s;
        }
        .ai-btn:hover { transform: scale(1.02); }

        #ai-status { font-size: 16px; font-weight: bold; margin-top: 10px; color: #fff; line-height: 1.4; }

        /* OTHER STYLES */
        .int-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .int-item { background: #fff; border-radius: 18px; overflow: hidden; border: 1px solid #f0f0f0; text-align: center; }
        .int-item img { width: 100%; height: 95px; object-fit: cover; }
        .pdf-btn { background: var(--primary-color); color: white; padding: 12px; border-radius: 15px; text-decoration: none; display: block; text-align: center; margin-top: 10px; font-weight: bold; }
        .contact-item { display: flex; align-items: center; gap: 15px; text-decoration: none; color: #444; background: #fff; padding: 12px; border-radius: 15px; margin-bottom: 10px; border: 1px solid #ffeef2; }
    </style>
</head>
<body>

    <div class="wrapper">
        <div class="card" style="text-align: center;">
            <img src="Snapchat-720303948.jpg" style="width: 120px; height: 120px; border-radius: 50%; border: 4px solid var(--primary-color); object-fit: cover;" alt="Aziza">
            <h2 style="margin: 10px 0 5px 0;">Safarova Aziza</h2>
            <p style="color: var(--primary-color); font-weight: bold;">QARSHI DAVLAT UNIVERSITETI</p>
        </div>

        <div class="card ai-card">
            <div class="h2-title"><i class="fas fa-robot"></i> Sun'iy Intellekt</div>
            <p style="font-size: 14px;">BMW va Mercedes markalarini aniqlaydigan real-time AI tizimi.</p>
            
            <button onclick="startAI()" class="ai-btn" id="start-btn">
                Kamerani ishga tushirish <i class="fas fa-camera"></i>
            </button>

            <div id="webcam-container">
                <video id="webcam" autoplay playsinline muted></video>
                <div id="ai-status">Tayyorlanmoqda...</div>
            </div>
        </div>

        <div class="card">
            <div class="h2-title"><i class="fas fa-user-graduate"></i> Men haqimda</div>
            <p style="font-size: 14px; line-height: 1.6;">Men QarDU talabasiman. IT sohasiga va ilmiy tadqiqotlarga bo'lgan qiziqishim yuqori. O'z ustimda ishlashdan to'xtamayman.</p>
        </div>

        <div class="card">
            <div class="h2-title"><i class="fas fa-heart"></i> Qiziqishlarim</div>
            <div class="int-grid">
                <div class="int-item"><img src="https://images.unsplash.com/photo-1555215695-3004980ad54e?w=200"><p style="font-size: 12px; font-weight: bold; color: #333; margin: 5px;">BMW</p></div>
                <div class="int-item"><img src="https://images.pexels.com/photos/56866/garden-rose-red-pink-56866.jpeg?w=200"><p style="font-size: 12px; font-weight: bold; color: #333; margin: 5px;">Atirgullar</p></div>
            </div>
        </div>

        <div class="card">
            <div class="h2-title"><i class="fas fa-envelope"></i> Aloqa</div>
            <a href="https://t.me/Safarova_A" class="contact-item"><i class="fab fa-telegram" style="color:#0088cc"></i> @Safarova_A</a>
            <a href="mailto:azizasafarova0210@gmail.com" class="contact-item"><i class="fas fa-at" style="color:var(--primary-color)"></i> Email</a>
        </div>

        <p style="font-size: 11px; color: #999; text-align: center;">¬© 2026 Aziza Safarova</p>
    </div>

    <script>
        let model;
        const video = document.getElementById('webcam');
        const status = document.getElementById('ai-status');
        const container = document.getElementById('webcam-container');
        const startBtn = document.getElementById('start-btn');

        async function startAI() {
            startBtn.style.display = 'none';
            container.style.display = 'block';
            status.innerText = "Tekshirilmoqda...";

            try {
                // 1. Kamerani yoqish
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: "environment" } 
                });
                video.srcObject = stream;
                status.innerText = "Model yuklanmoqda...";
                
                // 2. Modelni yuklash
                // Eslatma: 'web_model/model.json' manzili to'g'ri bo'lishi shart
                model = await tf.loadLayersModel('web_model/model.json');
                
                status.innerText = "Tayyor! Mashinani ko'rsating.";
                predict();
            } catch (err) {
                // Xatolikni aniq ko'rsatish
                status.innerText = "‚ö†Ô∏è Xatolik: " + err.message;
                console.error("AI Error:", err);
            }
        }

        async function predict() {
            setInterval(async () => {
                if (!model) return;
                
                const tensor = tf.browser.fromPixels(video)
                    .resizeNearestNeighbor([224, 224])
                    .toFloat()
                    .div(tf.scalar(255.0))
                    .expandDims();

                const prediction = await model.predict(tensor).data();
                const maxScore = Math.max(...prediction);
                const classIdx = prediction.indexOf(maxScore);
                
                const classes = ['BMW', 'Mercedes']; 

                if (maxScore > 0.70) {
                    status.innerText = `üöó ${classes[classIdx]} (${(maxScore * 100).toFixed(1)}%)`;
                } else {
                    status.innerText = "üîç Mashina qidirilmoqda...";
                }
            }, 500);
        }
    </script>
</body>
</html>
